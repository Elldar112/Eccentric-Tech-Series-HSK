<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <!--=============== M51 charge autocannon turret ===============-->
  <ThingDef ParentName="BuildingBase" MayRequire="Ludeon.RimWorld.Odyssey">
    <defName>Eccentric_Turret_M51AC</defName>
    <label>M51 charge autocannon turret</label>
    <description>The Mark 51 turret is a ship-mounted twin-barreled charge-shot autocannon designed for use as a point defense weapon on military starships. It is powerful and sturdy, but can only be built on gravship substructure and requires external control via a defense grid console.\n\nIf connected to a supply network, it can reload itself using networked storage</description>
    <thingClass>CombatExtended.Building_TurretGunCE</thingClass>
    <drawerType>MapMeshAndRealTime</drawerType>
    <graphicData>
      <texPath>Eccentric/Things/Buildings/ShipTurret_Base</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(3,3)</drawSize>
      <drawRotated>false</drawRotated>
      <shadowData>
        <volume>(1.93,0.5,1.69)</volume>
        <offset>(0,0,0)</offset>
      </shadowData>
    </graphicData>
    <uiIconPath>Eccentric/Things/Buildings/ChargeAutocannon_Icon</uiIconPath>
    <altitudeLayer>Building</altitudeLayer>
    <stealable>false</stealable>
    <rotatable>true</rotatable>
    <statBases>
      <MaxHitPoints>800</MaxHitPoints>
      <Flammability>0.4</Flammability>
      <WorkToBuild>50000</WorkToBuild>
      <Mass>200</Mass>
      <Beauty>-5</Beauty>
      <ShootingAccuracyTurret>1.25</ShootingAccuracyTurret>
      <NightVisionEfficiency>0.5</NightVisionEfficiency>
      <AimingAccuracy>0.75</AimingAccuracy>
    </statBases>
    <tickerType>Normal</tickerType>
    <comps>
      <li Class="CompProperties_Forbiddable"/>
      <li Class="CompProperties_Power">
        <compClass>CompPowerTrader</compClass>
        <basePowerConsumption>600</basePowerConsumption>
      </li>
      <li Class="CompProperties_Flickable"/>
      <li Class="EccentricDefenseGrid.CompProperties_DefenseConduit" />
      <li Class="EccentricDefenseGrid.CompProperties_MannableRemoteOnly">
        <manWorkType>Violent</manWorkType>
      </li>
      <li Class="EccentricFurniture.CompProperties_SupplyConduit" MayRequire="Aelanna.EccentricTech.Furniture" />
      <li Class="EccentricFurniture.CompProperties_SupplyConsumer" MayRequire="Aelanna.EccentricTech.Furniture" />
      <li Class="EccentricFurniture.CompProperties_Autoloader" MayRequire="Aelanna.EccentricTech.Furniture" />
      <li Class="CompProperties_Stunnable">
        <affectedDamageDefs>
          <li>EMP</li>
        </affectedDamageDefs>
      </li>
    </comps>
    <size>(2,2)</size>
    <passability>PassThroughOnly</passability>
    <pathCost>50</pathCost>
    <castEdgeShadows>true</castEdgeShadows>
    <fillPercent>0.85</fillPercent>
    <hasTooltip>true</hasTooltip>
    <costList>
      <Steel>400</Steel>
      <Plasteel>100</Plasteel>
      <ComponentIndustrial>10</ComponentIndustrial>
    </costList>
    <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
    <designationCategory>Security</designationCategory>
    <constructionSkillPrerequisite>8</constructionSkillPrerequisite>
    <building>
      <combatPower>60</combatPower>
      <ai_combatDangerous>true</ai_combatDangerous>
      <turretGunDef>Eccentric_Gun_M51AC</turretGunDef>
      <turretTopDrawSize>3</turretTopDrawSize>
      <turretBurstCooldownTime>1.0</turretBurstCooldownTime>
    </building>
    <placeWorkers>
      <li>PlaceWorker_OnSubstructure</li>
      <li>PlaceWorker_TurretTop</li>
      <li>EccentricProjectiles.PlaceWorker_ShowTurretRadius</li>
    </placeWorkers>
    <researchPrerequisites>
      <li>Eccentric_DefenseGridTurrets</li>
    </researchPrerequisites>
  </ThingDef>
  <!-- gun -->
  <ThingDef ParentName="BaseTurretGun" MayRequire="Ludeon.RimWorld.Odyssey">
    <defName>Eccentric_Gun_M51AC</defName>
    <label>M51 charge autocannon</label>
    <description>A heavy twin-barreled charge-shot autocannon.</description>
    <graphicData>
      <texPath>Eccentric/Things/Buildings/ChargeAutocannon_Top</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(3,3)</drawSize>
    </graphicData>
    <statBases>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.01</ShotSpread>
      <SwayFactor>1.61</SwayFactor>
      <RangedWeapon_Cooldown>0.37</RangedWeapon_Cooldown>
      <Mass>100</Mass>
    </statBases>
    <verbs>
      <li Class="CombatExtended.VerbPropertiesCE">
        <recoilAmount>1.50</recoilAmount>
        <verbClass>EccentricProjectiles.Verb_ShootCE_WithAlternateProjectiles</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_20x105mmCharged</defaultProjectile>
        <warmupTime>2.3</warmupTime>
        <range>78</range>
        <ticksBetweenBurstShots>7</ticksBetweenBurstShots>
        <burstShotCount>12</burstShotCount>
        <soundCast>EccentricDefenseGrid_ChargeAutocannonShot</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>16</muzzleFlashScale>
        <recoilPattern>Mounted</recoilPattern>
      </li>
    </verbs>
    <comps>
      <li Class="CombatExtended.CompProperties_AmmoUser">
        <magazineSize>120</magazineSize>
        <reloadTime>7.8</reloadTime>
        <ammoSet>AmmoSet_20x105mmCharged</ammoSet>
      </li>
      <li Class="CombatExtended.CompProperties_FireModes">
        <aiAimMode>AimedShot</aiAimMode>
        <noSnapshot>true</noSnapshot>
        <noSingleShot>true</noSingleShot>
      </li>
    </comps>
    <modExtensions>
      <li Class="EccentricProjectiles.ModExtension_AmmoAlternateProjectile">
        <alternateProjectiles>
          <li>
            <ammo>Ammo_20x105mmCharged</ammo>
            <projectile>Bullet_Eccentric20x105mmCharged</projectile>
          </li>
          <li>
            <ammo>Ammo_20x105mmCharged_AP</ammo>
            <projectile>Bullet_Eccentric20x105mmCharged_AP</projectile>
          </li>
          <li>
            <ammo>Ammo_20x105mmCharged_Ion</ammo>
            <projectile>Bullet_Eccentric20x105mmCharged_Ion</projectile>
          </li>
        </alternateProjectiles>
      </li>
    </modExtensions>
  </ThingDef>
  <!-- bullets -->
  <ThingDef Name="Eccentric_Base20x105mmChargeBullet" ParentName="Base20x105mmChargedBullet" Abstract="True" MayRequire="Ludeon.RimWorld.Odyssey">
    <thingClass>EccentricProjectiles.ProjectileCE_WithEffects</thingClass>
    <modExtensions>
      <li Class="EccentricProjectiles.ModExtension_ProjectileEffects">
        <alignOriginWithDrawPos>true</alignOriginWithDrawPos>
        <originOffsets>
          <li>(-0.25,0,1.086)</li>
          <li>(0.25,0,1.086)</li>
        </originOffsets>
        <alignOriginOffsetWithDirection>true</alignOriginOffsetWithDirection>
        <launchEffects>
          <li>EccentricDefenseGrid_AutocannonFlash</li>
        </launchEffects>
        <effects>
          <li>EccentricDefenseGrid_AutocannonTrail</li>
        </effects>
      </li>
    </modExtensions>
  </ThingDef>
  <ThingDef ParentName="Eccentric_Base20x105mmChargeBullet" MayRequire="Ludeon.RimWorld.Odyssey">
    <defName>Bullet_Eccentric20x105mmCharged</defName>
    <label>20x105mm Charged bullet</label>
    <projectile Class="CombatExtended.ProjectilePropertiesCE">
      <damageAmountBase>74</damageAmountBase>
      <secondaryDamage>
        <li>
          <def>Bomb_Secondary</def>
          <amount>22</amount>
        </li>
      </secondaryDamage>
      <armorPenetrationSharp>40</armorPenetrationSharp>
      <armorPenetrationBlunt>1210</armorPenetrationBlunt>
    </projectile>
  </ThingDef>
  <ThingDef ParentName="Eccentric_Base20x105mmChargeBullet" MayRequire="Ludeon.RimWorld.Odyssey">
    <defName>Bullet_Eccentric20x105mmCharged_AP</defName>
    <label>20x105mm Charged bullet (Conc.)</label>
    <projectile Class="CombatExtended.ProjectilePropertiesCE">
      <damageAmountBase>58</damageAmountBase>
      <secondaryDamage>
        <li>
          <def>Bomb_Secondary</def>
          <amount>9</amount>
        </li>
      </secondaryDamage>
      <armorPenetrationSharp>80</armorPenetrationSharp>
      <armorPenetrationBlunt>1210</armorPenetrationBlunt>
    </projectile>
  </ThingDef>
  <ThingDef ParentName="Eccentric_Base20x105mmChargeBullet" MayRequire="Ludeon.RimWorld.Odyssey">
    <defName>Bullet_Eccentric20x105mmCharged_Ion</defName>
    <label>20x105mm Charged bullet (Ion)</label>
    <projectile Class="CombatExtended.ProjectilePropertiesCE">
      <damageAmountBase>58</damageAmountBase>
      <secondaryDamage>
        <li>
          <def>EMP</def>
          <amount>35</amount>
        </li>
      </secondaryDamage>
      <armorPenetrationSharp>60</armorPenetrationSharp>
      <armorPenetrationBlunt>1210</armorPenetrationBlunt>
      <empShieldBreakChance>1</empShieldBreakChance>
    </projectile>
  </ThingDef>

  <!--=============== M64 railgun turret ===============-->
  <ThingDef ParentName="BuildingBase" MayRequire="Ludeon.RimWorld.Odyssey">
    <defName>Eccentric_Turret_M64RG</defName>
    <label>M64 railgun turret</label>
    <description>The Mark 64 turret is a ship-mounted railgun designed for use as a light anti-ship on military starships. It is powerful and sturdy, but can only be built on gravship substructure and requires external control via a defense grid console.\n\nIf connected to a supply network, it can reload itself using networked storage</description>
    <thingClass>CombatExtended.Building_TurretGunCE</thingClass>
    <drawerType>MapMeshAndRealTime</drawerType>
    <graphicData>
      <texPath>Eccentric/Things/Buildings/ShipTurret_Base</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(3,3)</drawSize>
      <drawRotated>false</drawRotated>
      <shadowData>
        <volume>(1.93,0.5,1.69)</volume>
        <offset>(0,0,0)</offset>
      </shadowData>
    </graphicData>
    <uiIconPath>Eccentric/Things/Buildings/Railgun_Icon</uiIconPath>
    <altitudeLayer>Building</altitudeLayer>
    <stealable>false</stealable>
    <rotatable>true</rotatable>
    <statBases>
      <MaxHitPoints>800</MaxHitPoints>
      <Flammability>0.4</Flammability>
      <WorkToBuild>50000</WorkToBuild>
      <Mass>200</Mass>
      <Beauty>-5</Beauty>
      <ShootingAccuracyTurret>1.5</ShootingAccuracyTurret>
      <NightVisionEfficiency>0.5</NightVisionEfficiency>
      <AimingAccuracy>0.75</AimingAccuracy>
    </statBases>
    <tickerType>Normal</tickerType>
    <comps>
      <li Class="CompProperties_Forbiddable"/>
      <li Class="CompProperties_Power">
        <compClass>CompPowerTrader</compClass>
        <basePowerConsumption>800</basePowerConsumption>
      </li>
      <li Class="CompProperties_Flickable"/>
      <li Class="EccentricDefenseGrid.CompProperties_DefenseConduit" />
      <li Class="EccentricDefenseGrid.CompProperties_MannableRemoteOnly">
        <manWorkType>Violent</manWorkType>
      </li>
      <li Class="EccentricFurniture.CompProperties_SupplyConduit" MayRequire="Aelanna.EccentricTech.Furniture" />
      <li Class="EccentricFurniture.CompProperties_SupplyConsumer" MayRequire="Aelanna.EccentricTech.Furniture" />
      <li Class="EccentricFurniture.CompProperties_Autoloader" MayRequire="Aelanna.EccentricTech.Furniture" />
      <li Class="CompProperties_Stunnable">
        <affectedDamageDefs>
          <li>EMP</li>
        </affectedDamageDefs>
      </li>
    </comps>
    <size>(2,2)</size>
    <passability>PassThroughOnly</passability>
    <pathCost>50</pathCost>
    <castEdgeShadows>true</castEdgeShadows>
    <fillPercent>0.85</fillPercent>
    <hasTooltip>true</hasTooltip>
    <costList>
      <Steel>500</Steel>
      <Plasteel>125</Plasteel>
      <ComponentIndustrial>10</ComponentIndustrial>
    </costList>
    <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
    <designationCategory>Security</designationCategory>
    <constructionSkillPrerequisite>8</constructionSkillPrerequisite>
    <building>
      <combatPower>60</combatPower>
      <ai_combatDangerous>true</ai_combatDangerous>
      <turretGunDef>Eccentric_Gun_M64RG</turretGunDef>
      <turretTopDrawSize>3</turretTopDrawSize>
      <turretBurstCooldownTime>1.0</turretBurstCooldownTime>
    </building>
    <placeWorkers>
      <li>PlaceWorker_OnSubstructure</li>
      <li>PlaceWorker_TurretTop</li>
      <li>EccentricProjectiles.PlaceWorker_ShowTurretRadius</li>
    </placeWorkers>
    <researchPrerequisites>
      <li>Eccentric_DefenseGridTurrets</li>
    </researchPrerequisites>
  </ThingDef>
  <!-- gun -->
  <ThingDef ParentName="BaseTurretGun" MayRequire="Ludeon.RimWorld.Odyssey">
    <defName>Eccentric_Gun_M64RG</defName>
    <label>M64 railgun</label>
    <description>A heavy mounted railgun.</description>
    <graphicData>
      <texPath>Eccentric/Things/Buildings/Railgun_Top</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(3,3)</drawSize>
    </graphicData>
    <statBases>
      <SightsEfficiency>2.36</SightsEfficiency>
      <ShotSpread>0.01</ShotSpread>
      <SwayFactor>1.89</SwayFactor>
      <RangedWeapon_Cooldown>0.5</RangedWeapon_Cooldown>
      <Mass>120</Mass>
    </statBases>
    <verbs>
      <li Class="CombatExtended.VerbPropertiesCE">
        <recoilAmount>4.15</recoilAmount>
        <verbClass>EccentricProjectiles.Verb_ShootCE_WithAlternateProjectiles</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_12mmRailgun_Sabot</defaultProjectile>
        <warmupTime>4.6</warmupTime>
        <range>86</range>
        <minRange>5</minRange>
        <soundCast>EccentricDefenseGrid_RailgunShot</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>20</muzzleFlashScale>
        <recoilPattern>Mounted</recoilPattern>
      </li>
    </verbs>
    <comps>
      <li Class="CombatExtended.CompProperties_AmmoUser">
        <magazineSize>30</magazineSize>
        <reloadTime>6.8</reloadTime>
        <ammoSet>AmmoSet_12mmRailgun</ammoSet>
      </li>
      <li Class="CombatExtended.CompProperties_FireModes">
        <aiAimMode>AimedShot</aiAimMode>
        <noSnapshot>true</noSnapshot>
      </li>
    </comps>
    <modExtensions>
      <li Class="EccentricProjectiles.ModExtension_AmmoAlternateProjectile">
        <alternateProjectiles>
          <li>
            <ammo>Ammo_12mmRailgun_Sabot</ammo>
            <projectile>Bullet_Eccentric12mmRailgun_Sabot</projectile>
          </li>
        </alternateProjectiles>
      </li>
    </modExtensions>
  </ThingDef>
  <!-- bullets -->
  <ThingDef ParentName="BaseBulletCE" MayRequire="Ludeon.RimWorld.Odyssey">
    <defName>Bullet_Eccentric12mmRailgun_Sabot</defName>
    <thingClass>EccentricProjectiles.ProjectileCE_WithEffects</thingClass>
    <label>12mm Railgun bullet (Sabot)</label>
    <graphicData>
      <texPath>Eccentric/Things/Projectiles/Projectile_Railgun</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>TransparentPostLight</shaderType>
      <drawSize>1.5</drawSize>
    </graphicData>
    <projectile Class="CombatExtended.ProjectilePropertiesCE">
      <damageDef>Bullet</damageDef>
      <damageAmountBase>73</damageAmountBase>
      <armorPenetrationSharp>130</armorPenetrationSharp>
      <armorPenetrationBlunt>7250</armorPenetrationBlunt>
      <speed>354</speed>
    </projectile>
    <modExtensions>
      <li Class="EccentricProjectiles.ModExtension_ProjectileEffects">
        <alignOriginWithDrawPos>true</alignOriginWithDrawPos>
        <originOffset>(0,0,1.3)</originOffset>
        <alignOriginOffsetWithDirection>true</alignOriginOffsetWithDirection>
        <launchEffects>
          <li>EccentricDefenseGrid_RailgunFlashPulse</li>
          <li>EccentricDefenseGrid_RailgunFlashWave</li>
        </launchEffects>
        <effects>
          <li>EccentricDefenseGrid_RailgunTrail</li>
          <li>EccentricDefenseGrid_RailgunDistortionTrail</li>
        </effects>
      </li>
    </modExtensions>
  </ThingDef>

</Defs>
